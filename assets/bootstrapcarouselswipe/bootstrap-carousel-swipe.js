!function($){"use strict";if($.fn.carousel){var CarouselSwipe=function(element){this.$element=$(element),this.carousel=this.$element.data("bs.carousel"),this.options=$.extend({},CarouselSwipe.DEFAULTS,this.carousel.options),this.startX=this.startY=this.startTime=this.cycling=this.$active=this.$items=this.$next=this.$prev=this.dx=null,this.$element.on("touchstart",$.proxy(this.touchstart,this)).on("touchmove",$.proxy(this.touchmove,this)).on("touchend",$.proxy(this.touchend,this))};CarouselSwipe.DEFAULTS={swipe:50},CarouselSwipe.prototype.touchstart=function(e){if(this.options.swipe){var touch=e.originalEvent.touches?e.originalEvent.touches[0]:e;this.dx=0,this.startX=touch.pageX,this.startY=touch.pageY,this.cycling=null,this.width=this.$element.width(),this.startTime=e.timeStamp}},CarouselSwipe.prototype.touchmove=function(e){if(this.options.swipe){var touch=e.originalEvent.touches?e.originalEvent.touches[0]:e,dx=touch.pageX-this.startX,dy=touch.pageY-this.startY;Math.abs(dx)<Math.abs(dy)||(null===this.cycling&&(this.cycling=!!this.carousel.interval,this.cycling&&this.carousel.pause()),e.preventDefault(),this.dx=dx/(this.width||1)*100,this.swipe(this.dx))}},CarouselSwipe.prototype.touchend=function(e){if(this.options.swipe&&this.$active){var all=$().add(this.$active).add(this.$prev).add(this.$next).carousel_transition(!0),dt=(e.timeStamp-this.startTime)/1e3,speed=Math.abs(this.dx/dt);this.dx>40||this.dx>0&&speed>this.options.swipe?this.carousel.prev():this.dx<-40||this.dx<0&&speed>this.options.swipe?this.carousel.next():this.$active.one($.support.transition.end,function(){all.removeClass("prev next")}).emulateTransitionEnd(1e3*this.$active.css("transition-duration").slice(0,-1)),all.carousel_offset(!1),this.cycling&&this.carousel.cycle(),this.$active=null}},CarouselSwipe.prototype.swipe=function(percent){var $active=this.$active||this.getActive();if(percent<0){if(this.$prev.carousel_offset(!1).removeClass("prev").carousel_transition(!0),!this.$next.length||this.$next.hasClass("active"))return;this.$next.carousel_transition(!1).addClass("next").carousel_offset(percent+100)}else{if(this.$next.carousel_offset(!1).removeClass("next").carousel_transition(!0),!this.$prev.length||this.$prev.hasClass("active"))return;this.$prev.carousel_transition(!1).addClass("prev").carousel_offset(percent-100)}$active.carousel_transition(!1).carousel_offset(percent)},CarouselSwipe.prototype.getActive=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$next=this.$active.next(),!this.$next.length&&this.options.wrap&&(this.$next=this.$items.first()),this.$prev=this.$active.prev(),!this.$prev.length&&this.options.wrap&&(this.$prev=this.$items.last()),this.$active};var old=$.fn.carousel;$.fn.carousel=function(){return old.apply(this,arguments),this.each(function(){var $this=$(this),data;$this.data("bs.carousel.swipe")||$this.data("bs.carousel.swipe",new CarouselSwipe(this))})},$.extend($.fn.carousel,old),$.fn.carousel_transition=function(enable){return enable=enable?"":"none",this.each(function(){$(this).css("-webkit-transition",enable).css("transition",enable)})};var support3dtransform=function(){if(!window.getComputedStyle)return!1;var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var t in document.body.insertBefore(el,null),transforms)void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),void 0!==has3d&&has3d.length>0&&"none"!==has3d}();$.fn.carousel_offset=function(value){return this.each(function(){value?support3dtransform?$(this).css("transform","translate3d("+value+"%, 0, 0)"):$(this).css("left",value+"%"):$(this).css({transform:"",left:""})})},$(".carousel").carousel()}}(jQuery);